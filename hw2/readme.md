# Домашняя работа #2. Практики хорошего кода.

Выполнение ДЗ по коду, который рассматривался в hw1.

## Для паттернов:

В проанализированном коде паттерны при написании не применялись. Да и добавлять их туда не вижу смысла.
При этом были использованы методы фреймворка, которые используют паттерны.
Например, паттерн Builder:
* для запросов
```php
User::where('email', request('email'))->first();
// здесь в теории можно дополнительные условия выборки / сортировку в построителе запросов использовать
```
* Или Mailer
```php
\Mail::to('app@mrt24.ru')->cc('mail@danilakorovin.ru')->send(new RequestCreated());
// здесь также через построитель задать различные параметры отправки
```

Метод send из предыдущего примера является фабричным (FactoryMethod). Конкретный способ отправки в клиентском коде
не указывается. 

Классы \Mail, \Validator - это классы-фасады. 

Функция-хэлпер app() предоставляет доступ к сервис-контейнеру, который является реализацией Singleton.


## Для практик хорошего кода:

1. Табуляцию заменить на 4 пробела
2. camelCase для методов - не везде применяется
3. Добавить PhpDoc
4. Ранний возврат в целом применяется практически везде. Но можно убрать else, если в if уже был возврат 
(в ApiController это нарушается).

Например, в ApiController::delete().
Было: 

```php
if ($order->user->id == $user->id) {
    $order->delete();
    return $this->answer('ok',  'Заявка удалена');
} else {
    return $this->answer('error',  'Заявка не принадлежит данному пользователю');
}
```

Стало: 

```php
if ($order->user->id == $user->id) {
    $order->delete();
    return $this->answer('ok',  'Заявка удалена');
}

return $this->answer('error',  'Заявка не принадлежит данному пользователю');
```

Из общего, что должно быть нормой для всех проектов:
* Автозагрузка через composer (для сторонних компонентов, для своих классов - соблюдение psr-4).
* Код-стайл для команды на примере https://github.com/pulyavin/PHP-Coding-Style-Guide . Форматирование кода по psr2/12. 